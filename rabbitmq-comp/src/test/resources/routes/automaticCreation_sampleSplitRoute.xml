<routes xmlns='http://camel.apache.org/schema/spring'>

<route id='workflow-WORKFLOW_ID-starting-point-for-pipeline-1-mico/test'>
<from uri='direct:mico/test'/>
<aggregate strategyRef='aggregatorStrategy' completionSize='1'>
  <correlationExpression>
    <simple>header.id</simple>
  </correlationExpression>
  <to uri='direct:workflow-WORKFLOW_ID-pipeline-1'/>
</aggregate>
</route>

<route id='workflow-WORKFLOW_ID-pipeline-0'>
<from uri='direct:workflow-WORKFLOW_ID-pipeline-0'/>
<pipeline/>
</route>
<route id='workflow-WORKFLOW_ID-pipeline-1'>
  <from uri='direct:workflow-WORKFLOW_ID-pipeline-1'/>
  <pipeline>
    <to uri='mico-comp:vbox1?serviceId=A-B-queue&amp;extractorId=mico-extractor-test&amp;extractorVersion=1.0.0&amp;modeId=A-B-queue'/>
    <to uri='mico-comp:vbox1?serviceId=B-C-queue&amp;extractorId=mico-extractor-test&amp;extractorVersion=1.0.0&amp;modeId=B-C-queue'/>
  </pipeline>
  <multicast>
    <to uri='direct:workflow-WORKFLOW_ID-pipeline-2'/>
    <to uri='direct:workflow-WORKFLOW_ID-pipeline-3'/>
  </multicast>
</route>
<route id='workflow-WORKFLOW_ID-pipeline-2'>
  <from uri='direct:workflow-WORKFLOW_ID-pipeline-2'/>
  <pipeline>
    <to uri='mico-comp:vbox1?serviceId=C2-F-queue&amp;extractorId=mico-extractor-test&amp;extractorVersion=1.0.0&amp;modeId=C2-F-queue'/>
  </pipeline>
</route>
<route id='workflow-WORKFLOW_ID-pipeline-3'>
  <from uri='direct:workflow-WORKFLOW_ID-pipeline-3'/>
  <pipeline>
    <to uri='mico-comp:vbox1?serviceId=C1-D-queue&amp;extractorId=mico-extractor-test&amp;extractorVersion=1.0.0&amp;modeId=C1-D-queue'/>
    <to uri='mico-comp:vbox1?serviceId=D-E-queue&amp;extractorId=mico-extractor-test&amp;extractorVersion=1.0.0&amp;modeId=D-E-queue'/>
  </pipeline>
</route>


<bean id='aggregatorStrategy' class='org.apache.camel.processor.BodyInAggregatingStrategy'/>
</routes>

